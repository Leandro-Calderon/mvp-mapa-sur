<!doctype html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover,maximum-scale=1.0" />
  <meta name="description"
    content="Mapa para marcar la geolocalización de edificios o viviendas para llegar más rápido" />

  <!-- Security Headers -->
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self'; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'; 
  style-src 'self' 'unsafe-inline'; 
  worker-src 'self' blob:;
  child-src 'self' blob:;
  img-src 'self' data: blob: https://*.tile.openstreetmap.org https://*.basemaps.cartocdn.com https://a.basemaps.cartocdn.com https://b.basemaps.cartocdn.com https://c.basemaps.cartocdn.com https://d.basemaps.cartocdn.com https://tiles.openfreemap.org https://wms.ign.gob.ar https://imagenes.ign.gob.ar https://server.arcgisonline.com; 
  connect-src 'self' https://*.tile.openstreetmap.org https://*.basemaps.cartocdn.com https://tiles.openfreemap.org https://wms.ign.gob.ar https://imagenes.ign.gob.ar https://server.arcgisonline.com https://demotiles.maplibre.org;">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
  <meta http-equiv="Permissions-Policy" content="geolocation=(self), camera=(), microphone=()">
  <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains">

  <!-- <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy" content="geolocation=(self), camera=(), microphone=()">
    <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains">
     -->
  <!-- PWA Optimization - Complementando el manifest de vite.config.js -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#ffffff">
  <meta name="apple-mobile-web-app-title" content="mvp-mapa-sur">
  <meta name="application-name" content="mvp-mapa-sur">

  <!-- Performance Optimization -->
  <link rel="preconnect" href="https://tiles.openfreemap.org" crossorigin>
  <link rel="preconnect" href="https://tile.openstreetmap.org" crossorigin>
  <link rel="preconnect" href="https://a.tile.openstreetmap.org" crossorigin>
  <link rel="preconnect" href="https://b.tile.openstreetmap.org" crossorigin>
  <link rel="preconnect" href="https://c.tile.openstreetmap.org" crossorigin>
  <link rel="dns-prefetch" href="https://tiles.openfreemap.org">
  <link rel="dns-prefetch" href="https://tile.openstreetmap.org">
  <link rel="preconnect" href="https://demotiles.maplibre.org" crossorigin>

  <!-- GeoJSON loaded lazily by MapContainer, no preload needed for better FCP/LCP -->

  <!-- Favicons -->
  <link rel="icon" href="/favicon.ico" sizes="48x48">
  <link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/apple-touch-icon-180x180.png">

  <title>mvp-mapa-sur</title>

  <!-- Critical CSS inline para FCP instantáneo -->
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0
    }

    html,
    body,
    #root {
      height: 100%;
      width: 100%;
      overflow: hidden
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #e8f1e8
    }

    #root {
      display: flex;
      align-items: center;
      justify-content: center
    }

    .loading-placeholder {
      width: 48px;
      height: 48px;
      border: 4px solid #e0e0e0;
      border-top-color: #4ECDC4;
      border-radius: 50%;
      animation: spin 1s linear infinite
    }

    @keyframes spin {
      to {
        transform: rotate(360deg)
      }
    }
  </style>
</head>

<body>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
  <noscript>
    <div style="padding: 20px; text-align: center;">
      <p>Esta aplicación requiere JavaScript para funcionar correctamente.</p>
      <p>Por favor, activa JavaScript en tu navegador para continuar.</p>
    </div>
  </noscript>
</body>

</html>